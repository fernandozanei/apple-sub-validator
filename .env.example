# Apple Subscription Validator Configuration
# Copy this file to .env and fill in your actual values

# ===================================
# Legacy Receipt Validation (verifyReceipt API)
# ===================================
# REQUIRED for: validate_base64_receipt() method
# OPTIONAL for: JWS token validation and transaction API calls
#
# Get this from App Store Connect → Your App → App Information → App-Specific Shared Secret
# Used for validating base64-encoded receipts via Apple's legacy verifyReceipt endpoint
APPLE_SHARED_SECRET=your_shared_secret_here

# ===================================
# App Store Server API (Transaction API)
# ===================================
# REQUIRED for: get_transaction_info(), get_transaction_history(), get_subscription_statuses(),
#               get_app_transaction_info(), lookup_order_id() methods
# OPTIONAL for: Local JWS token validation (token contains its own public key)
#
# Get these from App Store Connect → Users and Access → Keys → App Store Connect API
#
# Your private key from the .p8 file (include the full content with line breaks)
# Note: For best security, keep the key in quotes and use \n for line breaks, or use a multiline format
APPLE_API_KEY="-----BEGIN PRIVATE KEY-----
your_private_key_here
-----END PRIVATE KEY-----"

# Key ID from App Store Connect (e.g., "ABC123XYZ4")
APPLE_KEY_ID=your_key_id_here

# Issuer ID from App Store Connect (UUID format, e.g., "12345678-1234-1234-1234-123456789012")
APPLE_ISSUER_ID=your_issuer_id_here

# Your app's bundle identifier (e.g., "com.yourcompany.yourapp")
APPLE_BUNDLE_ID=com.yourapp.bundleid

# ===================================
# Environment Settings
# ===================================
# Set to 'production' or 'sandbox' (default: sandbox)
# The validator will automatically retry the other environment if a lookup fails
APPLE_ENVIRONMENT=sandbox
